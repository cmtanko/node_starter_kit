{"version":3,"sources":["../../src/country/country.service.js"],"names":["getCountryList","deleteCountry","addCountry","id","where","select","whereRaw","orderBy","then","del","country","countryId","get","insert","update"],"mappings":";;;;;QAGgBA,c,GAAAA,c;QAaAC,a,GAAAA,a;QAOAC,U,GAAAA,U;;AAvBhB;;;;AACA;;;;;;AAEO,SAASF,cAAT,CAAwBG,EAAxB,EAA4B;AACjC,MAAIC,QAAQ,EAAZ;AACA,MAAID,EAAJ,EAAQ;AACNC,8BAAwBD,EAAxB;AACD;;AAED,SAAO,kBAAG,SAAH,EACJE,MADI,CACG,YADH,EACiB,SADjB,EAEJC,QAFI,CAEKF,KAFL,EAGJG,OAHI,CAGI,SAHJ,EAIJC,IAJI,EAAP;AAKD;;AAEM,SAASP,aAAT,CAAuBE,EAAvB,EAA2B;AAChC,SAAO,kBAAG,SAAH,EACJC,KADI,CACE,YADF,EACgBD,EADhB,EAEJM,GAFI,GAGJD,IAHI,EAAP;AAID;;AAEM,SAASN,UAAT,CAAoBQ,OAApB,EAA6B;AAClC,MAAIC,YAAY,iBAAEC,GAAF,CAAMF,OAAN,EAAe,YAAf,CAAhB;AACA,MAAI,CAACC,SAAL,EAAgB;AACd,WAAO,kBAAG,SAAH,EACJE,MADI,CACGH,OADH,EACY,YADZ,EAEJF,IAFI,EAAP;AAGD,GAJD,MAIO;AACL,WAAO,kBAAG,SAAH,EACJM,MADI,CACGJ,OADH,EACY,YADZ,EAEJN,KAFI,CAEE,YAFF,EAEgBO,SAFhB,EAGJH,IAHI,EAAP;AAID;AACF;;kBAEc;AACbR,gCADa;AAEbC,8BAFa;AAGbC;AAHa,C","file":"country.service.js","sourcesContent":["import db from '../db';\nimport _ from 'lodash';\n\nexport function getCountryList(id) {\n  let where = '';\n  if (id) {\n    where = `country_id = ${id}`;\n  }\n\n  return db('country')\n    .select('country_id', 'country')\n    .whereRaw(where)\n    .orderBy('country')\n    .then();\n}\n\nexport function deleteCountry(id) {\n  return db('country')\n    .where('country_id', id)\n    .del()\n    .then();\n}\n\nexport function addCountry(country) {\n  let countryId = _.get(country, 'country_id');\n  if (!countryId) {\n    return db('country')\n      .insert(country, 'country_id')\n      .then();\n  } else {\n    return db('country')\n      .update(country, 'country_id')\n      .where('country_id', countryId)\n      .then();\n  }\n}\n\nexport default {\n  getCountryList,\n  deleteCountry,\n  addCountry,\n};\n"]}