{"version":3,"sources":["../../src/country/country.service.js"],"names":["getCountryList","getCountry","deleteCountry","addCountry","updateCountry","fetchAll","id","fetch","then","country","notFound","destroy","forge","save","refresh"],"mappings":";;;;;QAGgBA,c,GAAAA,c;QAIAC,U,GAAAA,U;QAUAC,a,GAAAA,a;QAMAC,U,GAAAA,U;QAMAC,a,GAAAA,a;;AA7BhB;;;;AACA;;;;;;AAEO,SAASJ,cAAT,GAA0B;AAC/B,SAAO,kBAAQK,QAAR,EAAP;AACD;;AAEM,SAASJ,UAAT,CAAoBK,EAApB,EAAwB;AAC7B,SAAO,sBAAY,EAAEA,MAAF,EAAZ,EAAoBC,KAApB,GAA4BC,IAA5B,CAAiC,mBAAW;AACjD,QAAI,CAACC,OAAL,EAAc;AACZ,YAAM,IAAI,eAAKC,QAAT,CAAkB,mBAAlB,CAAN;AACD;;AAED,WAAOD,OAAP;AACD,GANM,CAAP;AAOD;;AAEM,SAASP,aAAT,CAAuBI,EAAvB,EAA2B;AAChC,SAAO,sBAAY,EAAEA,MAAF,EAAZ,EAAoBC,KAApB,GAA4BC,IAA5B,CAAiC,mBAAW;AACjDC,YAAQE,OAAR;AACD,GAFM,CAAP;AAGD;;AAEM,SAASR,UAAT,CAAoBM,OAApB,EAA6B;AAClC,SAAO,kBAAQG,KAAR,CAAcH,OAAd,EACJI,IADI,CACC,IADD,EAEJL,IAFI,CAEC;AAAA,WAAWC,QAAQK,OAAR,EAAX;AAAA,GAFD,CAAP;AAGD;;AAEM,SAASV,aAAT,CAAuBE,EAAvB,EAA2BG,OAA3B,EAAoC;AACzC,SAAO,sBAAY,EAAEH,MAAF,EAAZ,EAAoBO,IAApB,CAAyBJ,OAAzB,EAAkCD,IAAlC,CAAuC;AAAA,WAAWC,QAAQK,OAAR,EAAX;AAAA,GAAvC,CAAP;AACD;;kBAEc;AACbd,gCADa;AAEbC,wBAFa;AAGbC,8BAHa;AAIbC,wBAJa;AAKbC;AALa,C","file":"country.service.js","sourcesContent":["import Country from '../models/country';\nimport Boom from 'boom';\n\nexport function getCountryList() {\n  return Country.fetchAll();\n}\n\nexport function getCountry(id) {\n  return new Country({ id }).fetch().then(country => {\n    if (!country) {\n      throw new Boom.notFound('Country not found');\n    }\n\n    return country;\n  });\n}\n\nexport function deleteCountry(id) {\n  return new Country({ id }).fetch().then(country => {\n    country.destroy();\n  });\n}\n\nexport function addCountry(country) {\n  return Country.forge(country)\n    .save(null)\n    .then(country => country.refresh());\n}\n\nexport function updateCountry(id, country) {\n  return new Country({ id }).save(country).then(country => country.refresh());\n}\n\nexport default {\n  getCountryList,\n  getCountry,\n  deleteCountry,\n  addCountry,\n  updateCountry,\n};\n"]}