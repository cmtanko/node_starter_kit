{"version":3,"sources":["../src/api.js"],"names":["process","env","NODE_ENV","require","load","app","APP_PORT","PORT","APP_HOST","set","locals","title","APP_NAME","version","APP_VERSION","use","json","static","join","__dirname","get","req","res","setHeader","send","JSON","stringify","listen","log"],"mappings":";;;;;;AAAA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCC,UAAQ,QAAR,EAAkBC,IAAlB;AACD;;AAED,IAAMC,MAAM,wBAAZ;AACA,IAAMC,WAAWN,QAAQC,GAAR,CAAYM,IAAZ,IAAoB,IAArC;AACA,IAAMC,WAAWR,QAAQC,GAAR,CAAYO,QAAZ,IAAwB,WAAzC;;AAEAH,IAAII,GAAJ,CAAQ,MAAR,EAAgBH,QAAhB;AACAD,IAAII,GAAJ,CAAQ,MAAR,EAAgBD,QAAhB;AACAH,IAAIK,MAAJ,CAAWC,KAAX,GAAmBX,QAAQC,GAAR,CAAYW,QAA/B;AACAP,IAAIK,MAAJ,CAAWG,OAAX,GAAqBb,QAAQC,GAAR,CAAYa,WAAjC;;AAEAT,IAAIU,GAAJ,CAAQ,qBAAR;AACAV,IAAIU,GAAJ,CAAQ,uBAAR;AACAV,IAAIU,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAV,IAAIU,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAX,IAAIU,GAAJ,CAAQ,kBAAQE,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAf,CAAR;AACAd,IAAIU,GAAJ,CAAQ,MAAR;;AAEA;AACAV,IAAIe,GAAJ,CAAQ,eAAR,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrCA,MAAIC,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAD,MAAIE,IAAJ;AACD,CAHD;;AAKAnB,IAAIe,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,MAAIE,IAAJ,CACE,0EACE,yHADF,GAEE,sNAFF,GAGE,sBAHF,GAIEnB,IAAIe,GAAJ,CAAQ,MAAR,CAJF,GAKE,GALF,GAMEf,IAAIe,GAAJ,CAAQ,MAAR,CANF,GAOE,sDAPF,GAQE,QARF,GASEpB,QAAQC,GAAR,CAAYC,QATd,GAUEuB,KAAKC,SAAL,CAAe1B,QAAQC,GAAvB,CAXJ;AAaD,CAdD;;AAgBAI,IAAIsB,MAAJ,CAAWrB,QAAX,EAAqB,YAAM;AACzB,mBAAOsB,GAAP,CAAW,MAAX,yBAAwCvB,IAAIe,GAAJ,CAAQ,MAAR,CAAxC,SAA2Df,IAAIe,GAAJ,CAAQ,MAAR,CAA3D;AACD,CAFD;;kBAIef,G","file":"api.js","sourcesContent":["import 'babel-polyfill';\n\nimport cors from 'cors';\nimport path from 'path';\nimport helmet from 'helmet';\nimport morgan from 'morgan';\nimport routes from './routes';\nimport express from 'express';\nimport logger from './utils/logger';\nimport bodyParser from 'body-parser';\nimport swaggerSpec from './utils/swagger';\n\nif (process.env.NODE_ENV !== 'production') {\n  require('dotenv').load();\n}\n\nconst app = express();\nconst APP_PORT = process.env.PORT || 3000;\nconst APP_HOST = process.env.APP_HOST || 'localhost';\n\napp.set('port', APP_PORT);\napp.set('host', APP_HOST);\napp.locals.title = process.env.APP_NAME;\napp.locals.version = process.env.APP_VERSION;\n\napp.use(cors());\napp.use(helmet());\napp.use(morgan('dev'));\napp.use(bodyParser.json());\napp.use(express.static(path.join(__dirname, '/../public')));\napp.use('/api', routes);\n\n// serve swagger\napp.get('/swagger.json', (req, res) => {\n  res.setHeader('Content-Type', 'application/json');\n  res.send(swaggerSpec);\n});\n\napp.get('/', (req, res) => {\n  res.send(\n    '<div style=\"margin:50px;\" ><h1>Created with Node Starter kit</h1><br>' +\n      '<p>There are various other node starter kit out there yet,<br> Created this one with specific dependencies Features:<p>' +\n      '<ul><li>EcmaScript 2015 /ES6</li> <li>Unit Testing Setup with Mocha/Chai</li> <li>Commit checking with Husky and Linting with ESLint</li> <li>Logger</li> <li>Swagger</li> <li>Process Management with PM2</li></ul>' +\n      '<br><a href=\"http://' +\n      app.get('host') +\n      ':' +\n      app.get('port') +\n      '/api-docs\" target=\"_blank\"> Documentation </a></div>' +\n      'ENV : ' +\n      process.env.NODE_ENV +\n      JSON.stringify(process.env)\n  );\n});\n\napp.listen(APP_PORT, () => {\n  logger.log('info', `Server started at ${app.get('host')}:${app.get('port')}`);\n});\n\nexport default app;\n"]}